{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///home/user/ASTRA/ASTRA-main/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.0-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///home/user/ASTRA/ASTRA-main/src/ai/flows/legal-chatbot.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview A legal chatbot that can answer questions with multimodal context.\n *\n * - legalChatbot - A function that handles a chatbot conversation turn.\n * - LegalChatbotInput - The input type for the legalChatbot function.\n * - LegalChatbotOutput - The return type for the legalChatbot function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst MessageSchema = z.object({\n    role: z.enum(['user', 'assistant', 'tool']),\n    content: z.string(),\n    filePreview: z.string().optional(),\n    fileName: z.string().optional(),\n    name: z.string().optional(), // For tool requests/responses\n});\n\nconst LegalChatbotInputSchema = z.object({\n  query: z.string().describe('The user\\'s current question or message.'),\n  jurisdiction: z.string().describe('The legal jurisdiction to consider for the response.'),\n  documentDataUri: z.string().optional().describe(\n    \"An optional document or image file provided by the user for context, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n  ),\n  history: z.array(MessageSchema).describe('The history of the conversation so far.'),\n});\nexport type LegalChatbotInput = z.infer<typeof LegalChatbotInputSchema>;\n\nconst LegalChatbotOutputSchema = z.object({\n  response: z.string().describe('The AI\\'s response to the user\\'s query.'),\n});\nexport type LegalChatbotOutput = z.infer<typeof LegalChatbotOutputSchema>;\n\nexport async function legalChatbot(input: LegalChatbotInput): Promise<LegalChatbotOutput> {\n  const response = await legalChatbotFlow(input);\n  return { response };\n}\n\nconst prompt = ai.definePrompt({\n  name: 'legalChatbotPrompt',\n  input: {schema: LegalChatbotInputSchema},\n  prompt: `You are an expert attorney providing legal advice. Your goal is to give direct, actionable answers to the user's questions based on the provided context. Do not include disclaimers about not being a lawyer.\n\n  Your response must be tailored to the laws and regulations of the following jurisdiction: {{{jurisdiction}}}.\n  \n  Current time: ${new Date().toISOString()}\n\n  Conversation History:\n  {{#each history}}\n  {{#if name}}\n  Tool Response ({{name}}): {{content}}\n  {{else}}\n  {{role}}: {{content}}\n  {{/if}}\n  {{/each}}\n  \n  Current User Query: {{{query}}}\n  {{#if documentDataUri}}\n  The user has also provided the following file for context:\n  {{media url=documentDataUri}}\n  {{/if}}\n\n  Please provide a direct and clear legal response to the current user query, respecting the laws of {{{jurisdiction}}}.\n  `,\n});\n\nconst legalChatbotFlow = ai.defineFlow(\n  {\n    name: 'legalChatbotFlow',\n    inputSchema: LegalChatbotInputSchema,\n    outputSchema: z.string(),\n  },\n  async (input) => {\n    \n    const llmResponse = await prompt(input);\n    \n    return llmResponse.text;\n  }\n);\n"],"names":[],"mappings":";;;;;AAGA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC3B,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAQ;QAAa;KAAO;IAC1C,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM;IACjB,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC7B,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;AAC7B;AAEA,MAAM,0BAA0B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACvC,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC3B,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAClC,iBAAiB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAC7C;IAEF,SAAS,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,eAAe,QAAQ,CAAC;AAC3C;AAGA,MAAM,2BAA2B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACxC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAChC;AAGO,eAAe,aAAa,KAAwB;IACzD,MAAM,WAAW,MAAM,iBAAiB;IACxC,OAAO;QAAE;IAAS;AACpB;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ;IAAuB;IACvC,QAAQ,CAAC;;;;gBAIK,EAAE,IAAI,OAAO,WAAW,GAAG;;;;;;;;;;;;;;;;;;EAkBzC,CAAC;AACH;AAEA,MAAM,mBAAmB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACpC;IACE,MAAM;IACN,aAAa;IACb,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM;AACxB,GACA,OAAO;IAEL,MAAM,cAAc,MAAM,OAAO;IAEjC,OAAO,YAAY,IAAI;AACzB;;;IA5CoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///home/user/ASTRA/ASTRA-main/.next-internal/server/app/dashboard/legal-chatbot/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {legalChatbot as '40874373e336400d43334f4a7c243302380ee580cd'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///home/user/ASTRA/ASTRA-main/src/app/dashboard/legal-chatbot/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/legal-chatbot/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/legal-chatbot/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","debugId":null}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///home/user/ASTRA/ASTRA-main/src/app/dashboard/legal-chatbot/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/legal-chatbot/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/legal-chatbot/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA","debugId":null}},
    {"offset": {"line": 423, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}